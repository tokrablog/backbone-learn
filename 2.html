<!DOCTYPE html>
<html>
<head>
  <script src="https://code.jquery.com/jquery-1.11.3.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script>

  <meta charset="utf-8">
  <title>JS Bin</title>
</head>
<body>
  <script>

      var ListView = Backbone.View.extend({
        el:$("body"),


         //管理事件 这里一定要用css选择器 用jq木有用
          events:{
            "click button#add":"addItem",
            "click li":"remove"

          },

            //将事件和页面渲染绑定在一起 调用couner
          initialize:function(){
            _.bindAll(this,"render","removeItem","addItem");

            this.counter =0;
            this.render();

          },

          render:function(){

            $(this.el).append("<button id='add'>Add list item</button>");
            $(this.el).append("<ul></ul>");
          },



            //增加item的方法
          addItem:function(){
            this.counter++;
            $("ul", this.el).append("<li id=remove"+this.counter+">hello world"+this.counter+"</li>");

          },

          //最后用原生方法解决了当前对象删除问题
        remove:function(ev){
          console.log(this);
          var x = ev.target;
          x.remove();
        }

          });
      var listView = new ListView();

  </script>


</body>
</html>
